<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Open edX Credential Check</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; padding: 2rem; max-width: 520px; margin: 0 auto; }
      h1 { font-size: 1.25rem; margin-bottom: 1rem; }
      form { display: grid; gap: .75rem; }
      label { display: block; font-weight: 600; margin-bottom: .25rem; }
      input[type="text"], input[type="password"] { width: 100%; padding: .6rem .7rem; border: 1px solid #ccc; border-radius: 6px; }
      button { padding: .6rem .9rem; border: 0; background: #222; color: #fff; border-radius: 6px; cursor: pointer; }
      .note { font-size: .9rem; color: #555; }
      .alert { padding: .6rem .8rem; border-radius: 6px; margin: .5rem 0 0; }
      .alert.error { background: #fee; color: #900; border: 1px solid #f99; }
      .alert.success { background: #efe; color: #064; border: 1px solid #9e9; }
      .links { margin-top: 1rem; font-size: .95rem; }
      a { color: #06f; text-decoration: none; }
    </style>
  </head>
  <body>
    <h1>Check Open edX Credentials</h1>
    <p class="note">Enter your Open edX username (or email) and password. We will validate them against the Open edX OAuth2 token endpoint using the password grant. Your password is not stored.</p>

    {% if error %}
      <div class="alert error">{{ error }}</div>
    {% endif %}
    {% if success %}
      <div class="alert success">{{ success }}</div>
    {% endif %}

    <form method="post" action="/sso/openedx/check">
      <div>
        <label for="identifier">Username or Email</label>
        <input id="identifier" name="identifier" type="text" required />
      </div>
      <div>
        <label for="password">Password</label>
        <input id="password" name="password" type="password" required />
      </div>
      <div>
        <button type="submit">Verify on Open edX</button>
      </div>
    </form>

    <div class="links">
      <a href="/login">Local login</a> Â· <a href="/docs">API docs</a>
    </div>
  </body>
  </html>

